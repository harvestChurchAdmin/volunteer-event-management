<%- include('../partials/header', { title, user: locals.user, layoutVariant: 'public' }) %>

<section class="page-header page-shell">
  <div>
    <h1>Upcoming Volunteer Opportunities</h1>
    <p class="page-subtitle">Find a time that works for you and sign up quickly.</p>
  </div>
</section>

<%- include('../partials/messages', { messages: locals.messages || {} }) %>

<section class="page-section page-shell">
  <div class="tile-grid">
    <% events.forEach(event => { %>
      <% const start = new Date(event.date_start); const end = new Date(event.date_end); %>
      <article class="card event-card">
        <div>
          <p class="event-card__eyebrow">
            <%= start.toLocaleDateString(undefined, { month:'short', day:'numeric', year:'numeric' }) %>
            &nbsp;â€“&nbsp;
            <%= end.toLocaleDateString(undefined, { month:'short', day:'numeric', year:'numeric' }) %>
          </p>
          <h2><%= event.name %></h2>
          <% if (event.description) { %>
            <p class="event-card__copy"><%= event.description %></p>
          <% } %>
        </div>
        <div class="card-actions">
          <a href="/events/<%= event.event_id %>" class="btn btn-primary">View opportunities</a>
        </div>
      </article>
    <% }) %>
  </div>
</section>

<%- include('../partials/footer') %>
