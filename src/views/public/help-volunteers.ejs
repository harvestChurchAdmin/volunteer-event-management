<%- include('../partials/header', { title, user: locals.user, layoutVariant: 'public' }) %>

<%
  const brandInfo = locals.brand || {};
  const supportName = brandInfo.supportContactName || brandInfo.orgName || 'our team';
  const supportEmail = brandInfo.supportContactEmail || '';
%>

<section class="page-header page-shell">
  <div>
    <a href="/events" class="btn-link">&larr; Back to sign-ups</a>
    <h1>Volunteer help</h1>
    <p class="muted">Plain-language steps for browsing events, signing up, fixing mistakes, and getting support. No tech skills required.</p>
    <% if (supportEmail) { %>
      <p class="muted small">Need direct help? Email <%= supportName %> at <a href="mailto:<%= supportEmail %>"><%= supportEmail %></a>.</p>
    <% } else { %>
      <p class="muted small">Need direct help? Reply to your confirmation email and we’ll assist.</p>
    <% } %>
  </div>
</section>

<section class="page-section page-shell">
  <article class="card card--plain">
    <h2>Quick start</h2>
    <ol class="muted">
      <li>Open the <a href="/events">Sign-ups</a> page. You’ll see the events that are open right now.</li>
      <li>Press “View sign-ups” (or “Sign Up for Food Prep”) on the event you want.</li>
      <li>Follow the steps shown on the page. You can always tap “Back to sign-ups” to change events.</li>
    </ol>
  </article>
</section>

<section class="page-section page-shell">
  <article class="card card--plain">
    <h2>If the event uses time slots</h2>
    <ol class="muted">
      <li>Step 1: Type your name and email. Add each person who might serve (each name must be different).</li>
      <li>Step 2: For each time block, pick the person from the dropdown and press “Assign.” We block overlapping times for the same person automatically.</li>
      <li>Step 3: Press “Submit,” skim the review screen, then confirm. We’ll email you a link to edit later.</li>
    </ol>
    <p class="muted small">On a phone: scroll slowly, pick a person, then press “Assign.” If a time says “Full,” choose another.</p>
  </article>
</section>

<section class="page-section page-shell">
  <article class="card card--plain">
    <h2>If the event is Food Prep / Potluck</h2>
    <ol class="muted">
      <li>Step 1: Type your contact info and the names of people helping you.</li>
      <li>Step 2: Pick an item, choose the person bringing it, and type the dish name. Press “Assign.”</li>
      <li>Step 3: Press “Submit,” check the quick review, then confirm. You’ll get an email with a link to edit.</li>
    </ol>
    <p class="muted small">Hints like “Feeds 6–8” show how big the dish should be. If an item is full, pick another.</p>
  </article>
</section>

<section class="page-section page-shell">
  <article class="card card--plain">
    <h2>Editing or canceling your signup</h2>
    <ol class="muted">
      <li>Use the manage link from your confirmation email. Lost it? On the event page, click “Already signed up?” and we’ll email the link again.</li>
      <li>On the Manage page you can rename people, reassign a time or item, or remove a slot. Use the dropdown next to each slot/item to switch the person.</li>
      <li>To cancel everything, remove all assignments and submit. We’ll clean up the record once it’s empty.</li>
    </ol>
    <p class="muted small">Always submit changes so the roster updates for coordinators.</p>
  </article>
</section>

<section class="page-section page-shell">
  <article class="card card--plain">
    <h2>Troubleshooting</h2>
    <ul class="muted">
      <li><strong>Overlap warning:</strong> if a participant conflicts, pick another participant or change the conflicting time. Overlapping is blocked for the same person.</li>
      <li><strong>Slots show “Full”:</strong> choose another time or station; check back later in case capacity is increased.</li>
      <li><strong>No confirmation email:</strong> check Promotions/Spam; request the manage link via the event page form; <% if (supportEmail) { %>or email <a href="mailto:<%= supportEmail %>"><%= supportEmail %></a><% } else { %>or try again later<% } %>.</li>
      <li><strong>Duplicate email:</strong> If you try to start a new signup with an email that already has selections, we’ll stop you and resend the manage link so you can edit the existing signup instead of creating another.</li>
      <li><strong>Can’t submit:</strong> make sure you assigned at least one slot/item, provided participant names, and filled in required contact info.</li>
      <li><strong>On mobile:</strong> keep the page open until you see the success screen; avoid using the browser back button during form submission.</li>
    </ul>
  </article>
</section>

<section class="page-section page-shell">
  <article class="card card--plain">
    <h2>Need help?</h2>
    <% if (supportEmail) { %>
      <p class="muted">If you get stuck, email <%= supportName %> at <a href="mailto:<%= supportEmail %>"><%= supportEmail %></a>. Include the event name, the time/item you want, and your contact info.</p>
    <% } else { %>
      <p class="muted">If you get stuck, reply to your confirmation email with the event name, the time/item you want, and your contact info.</p>
    <% } %>
  </article>
</section>

<%- include('../partials/footer') %>
